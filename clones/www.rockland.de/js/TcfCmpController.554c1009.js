(()=>{function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var t=("u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:"u">typeof global?global:{}).parcelRequirecb08,n=t.register;n("95tpa",function(n,s){e(n.exports,"TcfCmpController",()=>g);var i=t("h2FSh"),r=t("kTJf3"),o=t("7nwmn"),a=t("7qJ26"),l=t("dmwAz"),c=t("2hIpA"),u=t("kzI06"),d=t("62uiv"),p=t("gUC9p"),h=t("e08dO");class g extends u.CmpController{areAllConsentsAccepted(){return super.areAllConsentsAccepted()&&this.tcf.areAllConsentsAccepted()}areAllConsentsDenied(){return super.areAllConsentsDenied()&&this.tcf.areAllConsentsDenied()}changeLanguage(e){var t=this,n=()=>super.changeLanguage;return(0,i._)(function(){return(0,l._)(this,function(s){switch(s.label){case 0:return[4,Promise.all([n().call(t,e),this.tcf.changeLanguage(e,this.iabData)])];case 1:return s.sent(),[2]}})}).call(this)}getPurposeFeatureDetails(e,t){var n=void 0,s=[];switch(t){case"purpose":n=this.tcf.purposes[e],s=Object.entries(this.tcf.vendors).filter(t=>(0,a._)(t,2)[1].purposes.includes(e)).map(e=>(0,a._)(e,2)[1]);break;case"feature":n=this.tcf.features[e],s=Object.entries(this.tcf.vendors).filter(t=>(0,a._)(t,2)[1].features.includes(e)).map(e=>(0,a._)(e,2)[1])}return n?this.mapPurposesFeaturesContent(n,s):null}getVendorsDetails(e){var t={};if(e){var n=this.tcf.vendors[e];if(n){var s=this.mapVendorContent(n);s&&(t[e]=s)}}else Object.entries(this.tcf.vendors).map(e=>{var n=(0,a._)(e,2)[1],s=this.mapVendorContent(n);s&&(t[n.id]=s)});return t}getVendorStoredInformation(e){var t=this.tcf.vendors[e].deviceStorageDisclosureUrl;if(t)return this.apiService.fetchStoredInfoData(t)}mapPurposesFeaturesContent(e,t){if(!this.i18n)return null;var n=[],s=[],i={type:"list",value:[]};if(e.illustrations&&e.illustrations.length&&s.push({title:this.i18n.tcf.vendor.examples,type:"list",value:e.illustrations.map((e,t)=>({id:`dp${t-1}`,label:e}))}),e.descriptionLegal){var a=e.descriptionLegal.split("\n");a.forEach((e,t)=>{e.includes("*")?i.value.push({id:`dp${t-1}`,label:e.replace("* ","")}):(0!==i.value.length&&s.push(i),i={title:e,type:"list",value:[]}),t===a.length-1&&s.push(i)})}return e.numberOfVendors&&s.push({title:this.i18n.tcf.tabs.vendors,type:"text",hideBulletPoint:!0,value:[{id:`dp${e.id}-numVendors`,label:`${e.numberOfVendors}`}]}),s.forEach((t,s)=>{n.push((0,o._)((0,r._)({id:`dataPurpose-${s}`},0===s&&{description:e.description}),{body:(0,r._)({parentId:`dataPurpose-${s}`},t)}))}),{genericContent:n,vendorsListContent:{id:"vendorsList",body:{title:this.i18n.tcf.tabs.vendors,value:t.map(e=>({id:e.id,label:e.name}))}}}}mapVendorContent(e){if(!this.i18n)return null;var t,n,s=[],i=void 0,r=this.i18n.base,o=r.days,a=r.no,l=r.privacyPolicyLinkText,c=r.storageInformation,u=r.storedInformation,d=r.storedInformationDescription,p=r.transferToThirdCountries,g=r.transferToThirdCountriesInfo,v=r.yes,f=this.i18n.tcf,m=f.dataSharedOutsideEUInfo,y=f.vendor;if(e.purposes.length&&this.iabData.config.purposeOneTreatment&&(e.purposes=e.purposes.filter(e=>1!==e)),e.purposes.length){var C=e.purposes.filter(e=>void 0!==this.tcf.purposes[e]).map(t=>{var n="";return e.dataRetention&&e.dataRetention.purposes[t]&&(n=` (${y.dataRetentionPeriod}: ${e.dataRetention.purposes[t]})`),{parentId:"processedPurposes",id:`pp${t}`,label:`${this.tcf.purposes[t].name}${n}`}});C.length&&s.push({body:{title:y.purpose,type:"list",value:C},id:"processedPurposes"})}if(e.legIntPurposes.length){var S=e.legIntPurposes.filter(e=>void 0!==this.tcf.purposes[e]).map(e=>({parentId:"legitimateProcessedPurposes",id:`lpp${e}`,label:this.tcf.purposes[e].name}));S.length&&s.push({body:{title:y.legitimateInterestPurposes,type:"list",value:S},id:"legitimateProcessedPurposes"})}if(e.specialPurposes.length){var b=e.specialPurposes.filter(e=>void 0!==this.tcf.specialPurposes[e]).map(t=>{var n="";return e.dataRetention&&e.dataRetention.specialPurposes[t]&&(n=` (${y.dataRetentionPeriod}: ${e.dataRetention.specialPurposes[t]})`),{parentId:"specialPurposes",id:`sp${t}`,label:`${this.tcf.specialPurposes[t].name}${n}`}});b.length&&s.push({body:{title:y.specialPurposes,type:"list",value:b},id:"specialPurposes"})}if(e.features.length){var I=e.features.filter(e=>void 0!==this.tcf.features[e]).map(e=>({parentId:"features",id:`f${e}`,label:this.tcf.features[e].name}));I.length&&s.push({body:{title:y.features,type:"list",value:I},id:"features"})}if(e.specialFeatures.length){var D=e.specialFeatures.filter(e=>void 0!==this.tcf.specialFeatures[e]).map(e=>({parentId:"specialFeatures",id:`sf${e}`,label:this.tcf.specialFeatures[e].name}));D.length&&s.push({body:{title:y.specialFeatures,type:"list",value:D},id:"specialFeatures"})}if(e.sharesDataOutsideEu&&this.iabData.config.showSharedOutsideEu&&s.push({body:{title:p,type:"list",value:[{parentId:"thirdCountriesTransfer",id:`dataSharedOutsideEU${e.id}`,label:m||g}]},id:"thirdCountriesTransfer"}),null==(t=e.dataDeclaration)?void 0:t.length){var w=e.dataDeclaration.reduce((e,t)=>{var n=this.tcf.dataCategories;if(n&&n[t]){var s={id:`dataDeclaration${t}`,label:n[t].name};return e?[...e,s]:[s]}return e},[]);s.push({body:{parentId:"categoriesOfData",title:y.categoriesOfData,type:"list",value:w},id:"categoriesOfData"})}(null==(n=e.dataRetention)?void 0:n.stdRetention)&&s.push({body:{title:y.dataRetentionPeriod,type:"list",value:[{parentId:"dataRetentionPeriod",id:"dataRetentionPeriod",label:`${e.dataRetention.stdRetention.toString()} ${o}`}]},id:"dataRetentionPeriod"}),e.policyUrl&&s.push({body:{parentId:"privacyPolicy",title:l,type:"link",value:e.policyUrl},id:"privacyPolicy"});var E="",A="";if(e.urls){var T=this.getLanguage().substring(0,2).toLowerCase();e.urls.forEach(e=>{var t=e.langId,n=e.legIntClaim,s=e.privacy,i=t&&T&&t.toLowerCase()===T;s&&(!E||i)&&(E=s),n&&(!A||i)&&(A=n)})}E&&s.push({body:{parentId:"privacyPolicy",title:this.i18n.base.privacyPolicyLinkText,type:"link",value:E},id:"privacyPolicy"}),A&&s.push({body:{parentId:"legitimateInterestClaim",title:y.legitimateInterestClaim,type:"link",value:A},id:"legitimateInterestClaim"});var P=[],_=this.i18n.base.cookieInformation,k=_.cookieStorage,L=_.cookieRefresh,U=_.day,O=_.days,M=_.minute,V=_.minutes,N=_.session,F=_.maximumAge,$=_.nonCookieStorage;if(P.push({id:"storageInfo1",label:`${k}: ${e.usesCookies?v:a}`}),e.cookieMaxAgeSeconds&&P.push({id:"storageInfo2",label:`${F}: ${(0,h.convertCookieMaxAge)(e.cookieMaxAgeSeconds,{day:U,days:O,minute:M,minutes:V,session:N})}`}),P.push({id:"storageInfo3",label:`${L}: ${e.cookieRefresh?v:a}`}),P.push({id:"storageInfo4",label:`${$}: ${e.usesNonCookieAccess?v:a}`}),P.length&&s.push({body:{parentId:"storageInfo",title:c,type:"list",value:P},id:"storageInfo"}),e.deviceStorageDisclosureUrl&&(i={id:e.id.toString(),title:u,description:d,url:e.deviceStorageDisclosureUrl}),this.isCbDerivative){var R=["privacyPolicy","legitimateInterestClaim"];s.sort((e,t)=>{var n=R.indexOf(e.id),s=R.indexOf(t.id);return(-1===n?1/0:n)-(-1===s?1/0:s)})}return{genericContent:s,storedInfoContent:i}}mapAcmVendorContent(e){if(!this.i18n)return null;var t=[];if(t.push({body:{title:this.isCbDerivative?this.i18n.base.privacyPolicyLinkText:this.i18n.tcf.acm.privacyPolicyText,type:"link",value:e.privacyPolicyUrl},id:"privacyPolicy"}),e.purposes&&e.purposes.length){var n=e.purposes.map((e,t)=>({id:`p${t}`,label:e}));t.push({body:{title:this.i18n.tcf.purposes,type:"list",value:n},id:"purposes"})}return{genericContent:t}}updateTcfConsents(){console.log("alpha version, implementation in progress...")}mapIdsToIdAndName(e,t){return(null==e?void 0:e.length)&&t?e.reduce((e,n)=>{var s=t[n];return(null==s?void 0:s.name)&&e.push({id:n,name:s.name}),e},[]):[]}getTCFVendors(){return Object.values(this.tcf.vendors).map(e=>{var t,n,s,i,r=e.deviceStorage;return{id:e.id,name:e.name,consent:null!=(t=e.consent)?t:null,legitimateInterestConsent:null!=(n=e.legitimateInterestConsent)?n:null,cookieMaxAgeSeconds:null!=(s=e.cookieMaxAgeSeconds)?s:null,cookieRefresh:null!=(i=e.cookieRefresh)?i:null,deviceStorage:r,deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl,features:this.mapIdsToIdAndName(e.features,this.tcf.features),flexiblePurposes:this.mapIdsToIdAndName(e.flexiblePurposes,this.tcf.purposes),legitimateInterestPurposes:this.mapIdsToIdAndName(e.legIntPurposes,this.tcf.purposes),policyUrl:e.policyUrl||"",purposes:this.mapIdsToIdAndName(e.purposes,this.tcf.purposes),specialFeatures:this.mapIdsToIdAndName(e.specialFeatures,this.tcf.specialFeatures),specialPurposes:this.mapIdsToIdAndName(e.specialPurposes,this.tcf.specialPurposes),showVendorOutsideEU:!!e.sharesDataOutsideEu,showConsentToggle:!!e.showConsentToggle,showLegitimateInterestConsentToggle:!!e.showLegitimateInterestConsentToggle,usesCookies:!!e.usesCookies,usesNonCookieAccess:!!e.usesNonCookieAccess}}).sort((e,t)=>e.name.localeCompare(t.name))}constructor(e,t,n){!e.consent.tcString&&(null==n||null==(s=n.consentData)?void 0:s.tcString)&&(e.consent.tcString=n.consentData.tcString),super(e,t,n);var s,i,r,o,a,l,u,h,g,v,f=(null==n||null==(i=n.consentData)?void 0:i.tcString)?null==n||null==(r=n.consentData)?void 0:r.acString:"",m={vendors:null==e||null==(o=e.acm)?void 0:o.vendors,acString:f},y=!0===e.core.googleConsentModeEnabled,C=!0===e.core.advertiserConsentModeEnabled;this.iabData=e.iab,this.tcf=new(0,c.TcfModel)(e.iab,e.consent.tcString,{acm:m,gcmEnabled:y,advertiserConsentModeEnabled:C,excludeAcceptAllVendors:null!=(v=null==n?void 0:n.excludeAcceptAllVendors)?v:[]}),this.consent=new(0,d.TcfConsentModel)(e.consent,{uiVersion:null==n?void 0:n.uiVersion,acString:null==(a=this.tcf.acm)?void 0:a.acString}),this.i18n=new(0,p.TcfI18nModel)(e.i18n),this.isCbDerivative=["wix","cb"].includes(e.ui.theme)||["BAR","DIALOG"].includes(null==(g=e.theme)||null==(h=g.cmp)||null==(u=h.default)||null==(l=u.layout)?void 0:l.template)}}}),n("kzI06",function(n,s){e(n.exports,"CmpController",()=>b);var i=t("h2FSh"),r=t("kTJf3"),o=t("7nwmn"),a=t("7qJ26"),l=t("dmwAz"),c=t("bxjJO"),u=t("2hIpA"),d=t("8bfDC"),p=t("gUC9p"),h=t("e08dO"),g=t("6YDm0"),v=t("5CKHf"),f=t("jRIZe"),m=t("fhM78"),y=t("cnbVL"),C=t("N85OF"),S=t("96QDM");class b{getLocation(){return this.location}isGppActive(){return!!this.gpp}initAbortController(){this.abortController=new AbortController}getConsentDetails(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,i._)(function(){return(0,l._)(this,function(t){return this.consent?[2,{consent:(0,o._)((0,r._)({},this.consent),{fromUserAction:!e}),services:(0,r._)({},this.dps.services),categories:(0,r._)({},this.dps.categories)}]:[2]})}).call(this)}fetchI18nDataForLanguage(e){return(0,i._)(function(){var t,n,s,i,o,a,c,u,d,p;return(0,l._)(this,function(l){switch(l.label){case 0:return[4,this.apiService.fetchI18nData((0,r._)({language:e,settingsId:this.setting.id,settingsType:this.setting.type,settingsVersion:this.setting.version,activeTcfVendorsListVersion:null==(n=this.coreData)||null==(t=n.tcf)?void 0:t.vendorsListVersion,previousTcfVendorsListVersion:this.consent&&(null==(i=this.consent)||null==(s=i.vendorsList)?void 0:s.version)||(null==(a=this.coreData)||null==(o=a.tcf)?void 0:o.vendorsListVersion),previousTcfPolicyVersion:this.consent&&(null==(u=this.consent)||null==(c=u.vendorsList)?void 0:c.policyVersion)||(null==(p=this.coreData)||null==(d=p.tcf)?void 0:d.policyVersion),theme:this.ui.theme},this.draft&&{draft:this.draft}))];case 1:return[2,l.sent()]}})}).call(this)}initI18nData(){return(0,i._)(function(){var e,t,n,s,i;return(0,l._)(this,function(r){switch(r.label){case 0:if(!(!this.englishI18nFallbackData&&"en"!==this.ui.language))return[3,2];return e=this,[4,this.fetchI18nDataForLanguage("en")];case 1:e.englishI18nFallbackData=r.sent(),r.label=2;case 2:return[4,this.fetchI18nDataForLanguage(this.ui.language)];case 3:if(!(t=r.sent()))return[2];return n=t,this.englishI18nFallbackData&&(n=this.mergeWithFallback(t,this.englishI18nFallbackData)),(0,d.isGdprI18nData)(n)?this.i18n=new(0,d.GdprI18nModel)(n):(0,p.isTcfI18nData)(n)?(this.i18n=new(0,p.TcfI18nModel)(n),(null==(i=this.tcf)||null==(s=i.acm)?void 0:s.vendors)&&this.tcf.updateAcmVendorsPurposes(this.i18n.tcf.acm.vendorsPurposes)):(0,g.isCcpaI18nData)(n)&&(this.i18n=new(0,g.UsI18nModel)(n)),[2]}})}).call(this)}mergeWithFallback(e,t){if("object"!=typeof e||null===e)return e;if(Array.isArray(e)&&Array.isArray(t))return e.map((e,n)=>"object"==typeof e&&null!==e&&"object"==typeof t[n]?this.mergeWithFallback(e,t[n]):null!=e?e:t[n]);var n=(0,r._)({},t);for(var s in e)void 0!==e[s]&&null!==e[s]&&""!==e[s]&&(n[s]="object"==typeof e[s]&&"object"==typeof t[s]?this.mergeWithFallback(e[s],t[s]):e[s]);return n}clearStorage(){return(0,i._)(function(){return(0,l._)(this,function(e){return[2,this.consentService.clearConsentsLocally()]})}).call(this)}unblockScriptsWithConsent(){return(0,i._)(function(){var e,t;return(0,l._)(this,function(n){return e=this.dps.getAcceptedServices("name"),t=this.dps.getAcceptedServices("id"),[2,this.scriptService.unblockScripts(e,t)]})}).call(this)}getControllerId(){var e;return null==(e=this.consent)?void 0:e.controllerId}getLanguage(){return this.ui.getLanguage()}getIsConsentRequired(){var e;return null==(e=this.consent)?void 0:e.required}changeLanguage(e){return(0,i._)(function(){return(0,l._)(this,function(t){switch(t.label){case 0:if(!this.languages.getHasLanguage(e))return[2];return this.ui.setLanguage(e),this.localStorageService.setUiData({language:e}),[4,this.initI18nData()];case 1:return t.sent(),[2]}})}).call(this)}setAnalyticsPixel(e,t){var n;null==(n=this.analyticsService)||n.setAnalyticsPixel(e,t)}dispatchViewChanged(e,t){y.V2BridgeCustomEvents.dispatchUcUiViewChangedEvent({previousView:e,view:t})}signalIABViewChanged(e,t){("none"===e||"button"===e)&&("first"===t||"second"===t)?(this.tcf&&this.tcf.setUIOpen(),this.gpp&&this.gpp.setCmpDisplayVisible()):("first"===e||"second"===e)&&("none"===t||"button"===t)&&(this.tcf&&this.tcf.setUIClosed(),this.gpp&&this.gpp.setCmpDisplayHidden()),this.gpp&&(this.gpp.setCmpSignalReady(),this.gpp.setCmpStatusLoaded())}acceptAllConsents(){return(0,i._)(function(){return(0,l._)(this,function(e){return this.tcf&&this.tcf.acceptAll(),this.dps.acceptAll(),[2]})}).call(this)}denyAllConsents(){return(0,i._)(function(){return(0,l._)(this,function(e){return this.tcf&&this.tcf.denyAll(),this.dps.denyAll(),[2]})}).call(this)}updateServicesConsents(e){return(0,i._)(function(){return(0,l._)(this,function(t){return this.dps.updateSome(e),[2]})}).call(this)}updateServiceConsent(e){return(0,i._)(function(){return(0,l._)(this,function(t){return this.dps.updateSome([e]),[2]})}).call(this)}updateCategoriesConsents(e){return(0,i._)(function(){return(0,l._)(this,function(t){return this.dps.updateCategoriesConsents(e),[2]})}).call(this)}updateCategoryConsent(e){return(0,i._)(function(){return(0,l._)(this,function(t){return this.dps.updateCategoriesConsents([e]),[2]})}).call(this)}saveConsents(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EXPLICIT",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return(0,i._)(function(){var s,i,r,o,a,c,u;return(0,l._)(this,function(l){switch(l.label){case 0:if(!this.consent)return[3,2];return this.consent.setUiVersion(),this.consent.setRequired(!1),this.consent.setSetting(this.setting),this.consent.setLanguage(this.ui.getLanguage()),this.consent.setUpdatedAt(Date.now()),i=this.consent.hash,this.consent.setHash((0,h.sha256)(this.consent.updatedAt.toString())),"US"===this.setting.type?(r=n||"ALL_DENIED"===this.dps.getConsentStatus(),this.gpp?(this.gpp.setHasOptedOut(r,e),this.gpp.generateUsString(),this.consent.setUsString(this.gpp.usString)):(this.consent.setHasOptedOut(r),this.consent.emitCcpaString()),this.consent.setUpdatedBy(r?"onDenyAllServices":"onAcceptAllServices")):t?this.consent.setUpdatedBy("onUpdateServices"):this.consent.setUpdatedBy(this.dps.updatedBy||(null==(s=this.tcf)?void 0:s.updatedBy)||"onUpdateServices"),this.dps.updatedBy=void 0,this.tcf&&(this.tcf.updatedBy=void 0),o=n?"ALL_DENIED":this.dps.getConsentStatus(),this.consent.setStatus(o),this.consent.setServiceIds(this.dps.getConsentServiceIds(o)),this.consent.setType(e),this.tcf&&(this.tcf.applySpecialCasesForVendors(),this.tcf.refreshTimestamp(),a=this.tcf.generateTcString(),(c=this.consent).setTcString(a),this.tcf.acm&&(u=this.tcf.getACString(),c.setAcString(u),this.tcf.setAddtlConsent(u)),this.tcf.updateTcfApi(a)),[4,this.applyConsents(i,t,!1)];case 1:l.sent(),this.consentStatus=o,l.label=2;case 2:return[2]}})}).call(this)}saveConsentRemotely(){return(0,i._)(function(){var e,t;return(0,l._)(this,function(n){switch(n.label){case 0:if(!(this.consent&&!this.consent.isBot))return[3,2];return e=this.tcf&&Object.entries(this.tcf.vendors).map(e=>{var t=(0,a._)(e,2),n=t[0],s=t[1];return[+n,s.legIntPurposes,s.purposes,s.specialPurposes]}),t=(0,r._)({consent:this.consent,services:this.dps.services,settingsType:this.setting.type,ucString:this.localStorageService.getConsentString(),consentWebhookEnabled:this.consentWebhookEnabled,crossDeviceEnabled:this.crossDeviceEnabled,isGppActive:!!this.gpp,location:this.location,analyticsEnabled:void 0!==this.analyticsService},e&&{vendors:e}),[4,this.consentService.saveConsentRemotely(t)];case 1:n.sent(),n.label=2;case 2:return[2]}})}).call(this)}areAllConsentsAccepted(){return"US"===this.setting.type&&this.consentStatus?"ALL_ACCEPTED"===this.consentStatus:"ALL_ACCEPTED"===this.dps.getConsentStatus()}areAllConsentsDenied(){return"US"===this.setting.type&&this.consentStatus?"ALL_DENIED"===this.consentStatus:"ALL_DENIED"===this.dps.getConsentStatus()}getServiceInfo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i._)(function(){var n;return(0,l._)(this,function(s){switch(s.label){case 0:if(!(n=this.dps.getService(e)))return[2];if(!(!this.i18n||t&&!this.i18n.getServiceHasDetails(e)))return[3,2];return[4,this.initI18nData()];case 1:s.sent(),s.label=2;case 2:if(this.i18n)return[2,{service:n,i18n:this.i18n.getService(e)}];return[2]}})}).call(this)}getStoredInfoByUrl(e){return(0,i._)(function(){var t,n,s,i,a,c,u,d,p,g,v,f,m,y,C,S,b,I,D,w,E,A,T,P,_;return(0,l._)(this,function(l){switch(l.label){case 0:return t={},[4,this.apiService.fetchStoredInfoData(e)];case 1:if(n=l.sent(),s="TCF"===this.setting.getType(),void 0!==this.i18n)return[3,3];return[4,this.initI18nData()];case 2:return l.sent(),[3,4];case 3:a=(i=this.i18n.base.cookieInformation).anyDomain,c=i.cookieRefresh,u=i.domain,d=i.multipleDomains,g=void 0===(p=i.duration)?"duration":p,v=i.no,m=void 0===(f=i.type)?"type":f,y=i.yes,S=(C=this.i18n.base).purposes,b=C.day,I=C.days,D=C.minute,w=C.minutes,E=C.session,n&&(A=n.disclosures,T=n.domains,P=[],_=[],A.map(e=>{var t=e.cookieRefresh,n=e.description,i=e.domain,l=e.identifier,p=e.maxAgeSeconds,f=e.name,C=e.type,A=e.purposes,T="";if(s&&A&&(null==A?void 0:A.length)>0){var _=[];A.forEach(e=>{var t;(null==(t=this.tcf)?void 0:t.purposes[e])&&_.push(this.tcf.purposes[e].name)}),T=`${_.join("; ")}`}var k=[];k.push({label:m,value:`${C}`,id:"type"}),"cookie"===C.toString()&&k.push({label:g,value:(0,h.convertCookieMaxAge)(p,{day:b,days:I,minute:D,minutes:w,session:E}),id:"duration"}),null!==t&&k.push({label:c,value:t?y:v,id:"cookieRefresh"}),i&&k.push({label:u,value:(0,h.convertDomain)(i,a,d),id:"domain"}),s&&""!==T&&k.push({label:S||"Purposes",value:T,id:"purposes"}),P.push((0,o._)((0,r._)({id:null!=f?f:l,name:null!=f?f:l},n&&{description:n}),{body:k}))}),s&&(null==T||T.map(e=>{var t=e.domain,n=e.use;_.push({id:t,name:t,body:[...n?[{label:S||"Purposes",value:n,id:"domains"}]:[]]})})),P.length>0&&(t.disclosures=P),_.length>0&&(t.domains=_)),l.label=4;case 4:return[2,t]}})}).call(this)}applyConsents(e,t,n){return(0,i._)(function(){var s,i,r,o,a,c,u,d,p,g,f,m;return(0,l._)(this,function(l){switch(l.label){case 0:if(!this.consent)throw Error("No consents");if(i=this.consent.hash!==e,this.consent.interaction||(this.consent.interaction="user"),r="true"===window.ucSkipGtagUpdates,this.gcm&&!r&&this.gcm.apply(this.consent.type,this.dps.services,this.advertiserConsentModeEnabled?null==(s=this.tcf)?void 0:s.vendors[755]:void 0),this.uet&&this.uet.apply(this.dps.services,this.consent.type),this.acs&&this.acs.apply(this.dps.services,this.consent.type),this.clarity&&this.clarity.apply(this.dps.services,this.consent.type),!i)return[3,2];return[4,this.consentService.saveConsentLocally(this.consent,this.dps)];case 1:l.sent(),this.gpp&&(o="",(0,v.isUsConsentModel)(this.consent)&&(o=this.consent.usflString||this.consent.usnatString||"",this.gpp.setUsString(o)),(0,v.isTcfConsentModel)(this.consent)&&(o=this.consent.tcString,null==(a=this.gpp)||a.setSectionString("tcfeuv2",o))),l.label=2;case 2:if(setTimeout(()=>{this.unblockScriptsWithConsent()},0),!(this.customEventService||this.dataLayerService))return[3,4];return[4,this.getConsentDetails(n)];case 3:(c=l.sent())&&(this.customEventService.dispatchConsentDetails(c),null==(u=this.dataLayerService)||u.push(y.V2BridgeCustomEvents.getConsentDetailsV2(c))),l.label=4;case 4:if(!i)return[3,6];return this.saveConsentRemotely().catch(()=>{h.UCConsole.error("CmpController - saveConsentRemotely","Could not save consents")}),p=(d=this.customEventService).dispatch,g=["UC_CONSENT_CHANGED"],[4,this.getConsentDetails()];case 5:return p.apply(d,g.concat([l.sent()])),[3,7];case 6:(null==(f=this.localStorageService.getUcData())?void 0:f.consent)||(m=this.consentService.mapServicesData(this.dps.services),this.localStorageService.setConsentData({services:m})),l.label=7;case 7:return S.webSdkEvents.emit("CONSENTS_APPLIED",{fromEmbeddings:t}),[2]}})}).call(this)}getPrivacyButtonTheme(e){var t=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getPrivacyButtonTheme({custom:e,direction:t})}isPrivacyNoticeDismissed(){return"accepted"===this.localStorageService.getPrivacyNoticeStatus()}setPrivacyNoticeStatus(){this.localStorageService.setPrivacyNoticeStatus("accepted")}getPrivacyNoticeTheme(e){var t=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getPrivacyNoticeTheme({custom:e,direction:t})}getEmbeddingTheme(e){var t=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getEmbeddingsTheme({custom:e,direction:t})}getCmpTheme(e,t){var n=this.languages.getLanguageScreenDirection(this.ui.getLanguage());return this.theme.getCmpTheme(e,{custom:t,direction:n})}getThemeDefaults(){this.theme.getThemeDefaults()}updateTheme(e){e&&(this.theme=new(0,u.ThemeModel)(e))}getCmpConfig(){return(0,i._)(function(){var e,t;return(0,l._)(this,function(n){return[2,{i18n:(0,r._)({},(null==(e=this.i18n)?void 0:e.base.poweredBy.isEnabled)&&{poweredBy:null==(t=this.i18n)?void 0:t.base.poweredBy})}]})}).call(this)}getServices(){return(0,i._)(function(){return(0,l._)(this,function(e){return[2,Object.entries(this.dps.services)]})}).call(this)}getCategories(){return(0,i._)(function(){return(0,l._)(this,function(e){return[2,Object.entries(this.dps.categories)]})}).call(this)}getLanguages(){return(0,i._)(function(){return(0,l._)(this,function(e){return[2,Object.entries(this.languages.languages)]})}).call(this)}reset(){var e,t;null==(e=this.tcf)||e.resetTcModel(),null==(t=this.dps)||t.resetDpsModel()}getServicesBaseInfo(){return(0,i._)(function(){var e,t,n;return(0,l._)(this,function(s){switch(s.label){case 0:return[4,this.initI18nData()];case 1:if(s.sent(),e=Object.keys(this.dps.services),t=this.dps.services,!this.i18n)return h.UCConsole.error("CmpController - getServicesBaseInfo","Could not initialize i18n data."),[2,[]];return n=(e,t)=>(0,i._)(function(){var s,r,o,a,c,u,d,p,h;return(0,l._)(this,function(g){switch(g.label){case 0:if(!(r=t[e]))return[2,null];return o=this.i18n.services[e],a=Object.values((null==r?void 0:r.subservices)||{}),c=Object.keys((null==r?void 0:r.subservices)||{}),h={categorySlug:r.category,consent:{status:null!=(u=null==(s=r.consent)?void 0:s.given)&&u,history:[]},description:(null==o?void 0:o.description)||"",fetchSubServices:()=>(0,i._)(function(){return(0,l._)(this,function(e){switch(e.label){case 0:return[4,Promise.all(c.map(e=>n(e,r.subservices||{})))];case 1:return[2,e.sent().filter(e=>null!==e)]}})})(),id:null==o?void 0:o.id,isEssential:r.essential,isHidden:null!=(d=r.hidden)&&d,legalBasis:(null==o?void 0:o.legalBasis)||[],name:(null==o?void 0:o.name)||r.processorId,processorId:r.processorId},[4,Promise.all(c.map(e=>n(e,r.subservices||{})))];case 1:return[2,(h.subServices=g.sent().filter(e=>null!==e),h.subServicesLength=a.length,h.usesThirdCountry=null!=(p=r.thirdCountryDataTransfer)&&p,h.version=r.version,h)]}})}).call(this),[4,Promise.all(e.map(e=>n(e,t)))];case 2:return[2,s.sent().filter(e=>null!==e)]}})}).call(this)}shouldRenderWatermark(){return this.watermark}constructor(e,t,n){var s,i=t.apiService,r=t.consentService,o=t.localStorageService,a=t.analyticsService;this.englishI18nFallbackData=null,this.draft=!1,this.watermark=!1;var l=(0,C.getCombinedCmpData)(e,n);S.webSdkEvents.emit("CMP_DATA_COMBINED",l);var d=l.dps,p=l.gcm,h=l.uet,g=l.clarity,v=l.core,y=l.integrations,b=l.setting,I=l.ui,D=l.languages,w=l.theme,E=l.template,A=l.acs;this.coreData=null==n?void 0:n.settingsCoreData,this.apiService=i,this.analyticsService=a,this.consentService=r,this.customEventService=new(0,c.CustomEventService)(v.customEvents||[]),this.localStorageService=o,this.scriptService=new(0,c.ScriptService),v.dataLayers&&(this.dataLayerService=new(0,c.DataLayerService)(v.dataLayers)),this.consentWebhookEnabled=null==n?void 0:n.isConsentWebhookEnabled,this.crossDeviceEnabled=null==n?void 0:n.isCrossDeviceEnabled,this.advertiserConsentModeEnabled=e.core.advertiserConsentModeEnabled,this.ui=new(0,u.UiModel)(I),this.languages=new(0,u.LanguagesModel)(D),this.setting=new(0,u.SettingModel)(b),this.dps=new(0,u.DpsModel)(d),this.theme=new(0,u.ThemeModel)(w||{}),this.location=null,(null==n?void 0:n.location)&&(this.location=null==n?void 0:n.location),this.abortController=new AbortController,(null==n?void 0:n.draft)&&(this.draft=null==n?void 0:n.draft),(null==n?void 0:n.watermark)&&(this.watermark=null==n?void 0:n.watermark),E&&(this.template=new(0,u.TemplateModel)(E)),y&&(this.integrations=new(0,u.IntegrationsModel)(y)),p&&(this.gcm=new(0,u.GoogleConsentModeModel)(p,o,this.customEventService)),h&&(this.uet=new(0,u.UetModel)(this.customEventService)),g&&(this.clarity=new(0,m.ClarityModel)(this.customEventService)),(null==n?void 0:n.gpp)&&(this.gpp=n.gpp),A&&"TCF"!==this.setting.getType()&&(this.acs=new(0,f.AcsModel)(this.customEventService,null==n?void 0:n.location)),this.consentStatus=null==n||null==(s=n.consentData)?void 0:s.status}}}),n("8bfDC",function(n,s){e(n.exports,"GdprI18nModel",()=>r),e(n.exports,"isGdprI18nData",()=>o);var i=t("14GuN");class r extends i.I18nModel{constructor(e){super(e),this.gdpr=e.gdpr}}var o=e=>"gdpr"in e}),n("gUC9p",function(n,s){e(n.exports,"TcfI18nModel",()=>r),e(n.exports,"isTcfI18nData",()=>o);var i=t("14GuN");class r extends i.I18nModel{constructor(e){super(e),this.tcf=e.tcf}}var o=e=>"tcf"in e}),n("6YDm0",function(n,s){e(n.exports,"UsI18nModel",()=>r),e(n.exports,"isCcpaI18nData",()=>o);var i=t("14GuN");class r extends i.I18nModel{constructor(e){super(e),this.ccpa=e.ccpa}}var o=e=>"ccpa"in e}),n("jRIZe",function(n,s){e(n.exports,"AcsModel",()=>a);var i=t("7qJ26"),r=t("e08dO"),o=t("evP80");class a{getAcsState(e){return Object.entries(e).reduce((e,t)=>{var n,s,r,o,a,l,c=(0,i._)(t,2)[1];return(null==(n=c.acs)?void 0:n.adStorage)!==void 0&&(e.adStorage=(null==(s=c.consent)?void 0:s.type)==="EXPLICIT"&&(null==(r=c.consent)?void 0:r.given)&&(!0===e.adStorage||void 0===e.adStorage)),(null==(o=c.acs)?void 0:o.userData)!==void 0&&(e.userData=(null==(a=c.consent)?void 0:a.type)==="EXPLICIT"&&(null==(l=c.consent)?void 0:l.given)&&(!0===e.userData||void 0===e.userData)),e},{})}push(e){var t=e.adStorage,n=e.userData;this.userLocation?(window.amznConsent().setCountryCode(this.userLocation.country).setEnableAdStorage(t).setEnableUserData(n).build(),this.customEventService.dispatchUcAcsUpdateEvent(e)):r.UCConsole.warn("AcsModel - Unable to fetch location",`userLocation: ${this.userLocation}, acsData: ${e}`)}apply(e,t){if((null==(o=window.ucCmpConfig)||null==(r=o.acsConfig)||!r.disabled)&&"EXPLICIT"===t){var n=this.getAcsState(e),s=n.adStorage,i=n.userData;if(void 0!==s&&void 0!==i){var r,o,a,l={adStorage:s,userData:i,countryCode:(null==(a=this.userLocation)?void 0:a.country)||""};this.push(l)}}}constructor(e,t){this.customEventService=e,this.userLocation=t,o.default.amznConsent()}}}),n("evP80",function(n,s){e(n.exports,"default",()=>r);var i=t("kTJf3"),r={amznConsent:function(){"use strict";var e,t,n=e=>!(!e||!/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)\.?\b){4}$/.test(e))&&e.split(".").every(e=>{var t=parseInt(e,10);return t>=0&&t<=255}),s=e=>!isNaN(Date.parse(e)),r="Strict",o="GRANTED",a="DENIED",l={geo:{ipAddress:"",countryCode:""},amazonConsentFormat:{amznAdStorage:"DENIED",amznUserData:"DENIED"},gpp:"",tcf:"",timestamp:"",version:"1"};class c{getConsentData(e){var t,n;try{if("string"==typeof e)t=JSON.parse(e);else{if("object"!=typeof e||null===e)throw Error("Input must be either a JSON string or an object");t=e}return n=this.isValidFormattedOutput(t)?t:this.formatOutput(t),this.validateFormattedOutput(n),n}catch(e){return console.error("Error in getConsentData:",e.message),null}}validateInput(e){var t;if(void 0!==e.version&&("number"!=typeof e.version||1!==e.version))throw Error("Invalid version. Must be 1 if provided");if(void 0!==e.ipAddress&&("string"!=typeof e.ipAddress||!n(e.ipAddress)))throw Error("Invalid IP address");if(void 0!==e.countryCode&&("string"!=typeof e.countryCode||2!==(null==(t=e.countryCode)?void 0:t.length)))throw Error("Invalid country code. Must be a 2-letter code");if(void 0!==e.enableAdStorage&&"boolean"!=typeof e.enableAdStorage)throw Error("enableAdStorage must be a boolean");if(void 0!==e.enableUserData&&"boolean"!=typeof e.enableUserData)throw Error("enableUserData must be a boolean");if(void 0!==e.gpp&&"string"!=typeof e.gpp)throw Error("gpp must be a string");if(void 0!==e.tcf&&"string"!=typeof e.tcf)throw Error("tcf must be a string");if(e.timestamp&&!s(e.timestamp))throw Error("Invalid timestamp")}formatOutput(e){return this.validateInput(e),{geo:{ipAddress:e.ipAddress,countryCode:e.countryCode},amazonConsentFormat:{amznAdStorage:e.enableAdStorage?o:a,amznUserData:e.enableUserData?o:a},gpp:e.gpp,tcf:e.tcf,timestamp:e.timestamp||new Date().toISOString(),version:e.version?e.version.toString():this.defaultVersion}}isValidFormattedOutput(e){return"object"==typeof e&&null!==e&&"geo"in e&&"amazonConsentFormat"in e&&"gpp"in e&&"tcf"in e&&"timestamp"in e&&"version"in e}validateFormattedOutput(e){var t,i,r,l,c;if(!e.geo&&!e.amazonConsentFormat)throw Error("Either geo or amazonConsentFormat must be provided");if(void 0!==(null==(t=e.geo)?void 0:t.ipAddress)&&!n(null==(i=e.geo)?void 0:i.ipAddress))throw Error("Invalid IP address in formatted output");if((null==(r=e.geo)?void 0:r.countryCode)&&2!==e.geo.countryCode.length)throw Error("Invalid country code in formatted output");if((null==(l=e.amazonConsentFormat)?void 0:l.amznAdStorage)&&![o,a].includes(e.amazonConsentFormat.amznAdStorage))throw Error("Invalid amznAdStorage value in formatted output");if((null==(c=e.amazonConsentFormat)?void 0:c.amznUserData)&&![o,a].includes(e.amazonConsentFormat.amznUserData))throw Error("Invalid amznUserData value in formatted output");if(void 0!==e.gpp&&"string"!=typeof e.gpp)throw Error("Invalid gpp in formatted output");if(void 0!==e.tcf&&"string"!=typeof e.tcf)throw Error("Invalid tcf in formatted output");if(!s(e.timestamp))throw Error("Invalid timestamp in formatted output");if("1"!==e.version)throw Error("Invalid version in formatted output")}constructor(){this.defaultVersion="1"}}class u{dispatchCookieChange(e){var t=new CustomEvent("amznConsentChange",{detail:{consent:e}});window.dispatchEvent(t)}setConsentCookie(e){var t=JSON.stringify(e),n=new Date;n.setTime(n.getTime()+this.cookieTtl),document.cookie=`${this.cookieName}=${encodeURIComponent(t)}; expires=${n.toUTCString()}; path=/; SameSite=${r}; Secure`,this.dispatchCookieChange(e)}isValidConsentCookie(e){return e&&"object"==typeof e&&"amazonConsentFormat"in e&&"version"in e&&"timestamp"in e}getConsentCookie(){var e=document.cookie.split("; ").find(e=>e.startsWith(`${this.cookieName}=`));if(!e)return null;try{var t=decodeURIComponent(e.split("=")[1]),n=JSON.parse(t);return this.isValidConsentCookie(n)?n:null}catch(e){return console.error("Error parsing consent cookie:",e),null}}setDefaultConsent(){this.setConsentCookie(this.defaultConsent)}clearConsentCookie(){document.cookie=`${this.cookieName}=;
    expires=Thu, 01 Jan 1970 00:00:00 UTC;
    path=/;
    SameSite=${r};
    Secure`,this.dispatchCookieChange(null)}constructor(){this.cookieName="amzn_consent",this.cookieTtl=24192e5,this.COOKIE_CHANGE_EVENT="amznConsentChange",this.defaultConsent=(0,i._)({},l)}}class d{setIpAddress(e){if("string"!=typeof e)throw TypeError("IP address must be a string");if(!n(e))throw Error("Invalid IP address");return this.data.ipAddress=e,this}setCountryCode(e){if("string"!=typeof e||2!==e.length)throw TypeError("Country code must be a 2-letter string");return this.data.countryCode=e,this}setEnableAdStorage(e){if("boolean"!=typeof e)throw TypeError("enableAdStorage must be a boolean");return this.data.enableAdStorage=e,this}setEnableUserData(e){if("boolean"!=typeof e)throw TypeError("enableUserData must be a boolean");return this.data.enableUserData=e,this}setGpp(e){if("string"!=typeof e)throw TypeError("GPP must be a string");return this.data.gpp=e,this}setTcf(e){if("string"!=typeof e)throw TypeError("TCF must be a string");return this.data.tcf=e,this}setVersion(e){if("number"!=typeof e||1!==e)throw TypeError("Version must be the number 1");return this.data.version=e,this}setTimestamp(e){if("string"!=typeof e||isNaN(Date.parse(e)))throw TypeError("Timestamp must be a valid date string");return this.data.timestamp=e,this}build(){var e=new c,t=new u,n=e.getConsentData(this.data);return n&&t.setConsentCookie(n),n}constructor(){this.data={}}}"u">typeof window&&(e=new c,(t=new u).getConsentCookie()||t.setDefaultConsent(),window.amznConsent=function(){for(var n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];if(0===s.length)return new d;try{var r=e.getConsentData(s[0]);return r&&t.setConsentCookie(r),r}catch(e){return console.error("Error in amznConsent:",e.message),null}})}}}),n("fhM78",function(t,n){function s(e,t){var n,s;null==(n=(s=window).clarity)||n.call(s,"consentv2",{ad_Storage:e,analytics_Storage:t})}e(t.exports,"ClarityModel",()=>i);class i{initDefaultsDenied(){var e,t;null!=(t=window.ucCmpConfig)&&null!=(e=t.clarityConfig)&&e.disabled||s("denied","denied")}getClarityState(e){var t,n,s=null==e?void 0:e.jzMEq56vW;return{granted:(null==s||null==(t=s.consent)?void 0:t.type)==="EXPLICIT"&&(null==s||null==(n=s.consent)?void 0:n.given)===!0}}push(e){s(e.adStorage,e.analyticsStorage),this.customEventService.dispatchUcClarityUpdateEvent(e)}apply(e,t){if(null==(s=window.ucCmpConfig)||null==(n=s.clarityConfig)||!n.disabled){var n,s,i=this.getClarityState(e).granted,r="EXPLICIT"===t&&!0===i;this.push({adStorage:r?"granted":"denied",analyticsStorage:r?"granted":"denied"})}}constructor(e){this.customEventService=e,window.clarity=window.clarity||function(){for(var e,t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=window.clarity;i.q=null!=(e=i.q)?e:[],i.q.push(n)}}}}),n("N85OF",function(n,s){e(n.exports,"getCombinedCmpData",()=>u);var i=t("7qJ26"),r=t("bY6u9"),o=t("2hIpA"),a=t("1ylHI"),l=t("dXOhQ"),c=t("e08dO"),u=(e,t)=>{var n,s,u,p,h,g,v,f=e.consent,m=t||{},y=m.consentData,C=m.gpp,S=Date.now();f.uiVersion||(f.uiVersion=(null==(u=window.__ucMock)?void 0:u.uiVersion)||(null==y?void 0:y.uiVersion)||(null==t?void 0:t.uiVersion)),!f.controllerId&&(null==y?void 0:y.controllerId)&&(f.controllerId=y.controllerId),!f.controllerId&&(null==(p=window.__ucMock)?void 0:p.controllerId)&&(f.controllerId=window.__ucMock.controllerId),f.createdAt||(f.createdAt=(null==y?void 0:y.createdAt)||S),f.updatedAt||(e.consent.updatedAt=(null==y?void 0:y.updatedAt)||S),!f.tcString&&(null==y?void 0:y.tcString)&&(e.consent.tcString=y.tcString),"onInitialPageLoad"===e.consent.updatedBy&&(null==y?void 0:y.updatedBy)&&(e.consent.updatedBy=y.updatedBy);var b=!a.EU_COUNTRIES.includes((null==t||null==(h=t.location)?void 0:h.country.toUpperCase())||"");if((b&&navigator.globalPrivacyControl&&"onDenyAllServices"===e.consent.updatedBy&&(e.ui.gpcSignalHonoured||"US"===e.setting.type)&&(null==y?void 0:y.gpcSignal)?e.consent.gpcSignal=!0:e.consent.gpcSignal=!1,n=e.consent.updatedAt,(s=e.ui.renewConsentsTimestamp)&&n&&Date.now()/1e3>s&&n/1e3<s?0:1)?((e,t)=>{if(t&&e&&(new Date().getTime()-e)/864e5>t)return!0;return!1})(e.consent.updatedAt,e.ui.reshowAfterDays)?e.ui.initialView="first":e.ui.initialView||(e.ui.initialView=(null==y?void 0:y.type)==="EXPLICIT"||(null==y?void 0:y.updatedBy)==="onMobileSessionRestore"?e.ui.closedView:"first"):e.ui.initialView="first",e.consent.required=e.ui.initialView!==e.ui.closedView,b&&(e.ui.gpcSignalHonoured||"US"===e.setting.type)&&navigator.globalPrivacyControl&&(!y||"IMPLICIT"===y.type)){var I=new(0,o.DpsModel)(e.dps);if(I.denyAll(),e.dps=I,e.consent.interaction="gpc",e.consent.gpcSignal=!0,e.consent.type="EXPLICIT",e.consent.updatedBy="onDenyAllServices",e.ui.initialView=e.ui.closedView,C)C.setHasOptedOut(!0,e.consent.type),C.generateUsString(),"usfl"===C.getLegalSection()?e.consent.usflString=C.usString:e.consent.usnatString=C.usString;else if("US"===e.setting.type){var D=e.consent.ccpaString;e.consent.ccpaString=D.charAt(0)+D.charAt(1)+"Y"+D.charAt(3)}e.consent.status=d(e,I,y)}else if(null==y?void 0:y.status){e.consent.gpcSignal=!1,e.consent.type=y.type,e.consent.serviceIds=y.serviceIds,e.dps.services=Object.entries(e.dps.services).reduce((e,t)=>{var n,s,r=(0,i._)(t,2),o=r[0],a=r[1];return"added"!==a.status&&(null==a?void 0:a.consent)&&(a.consent.given=a.essential||"ALL_ACCEPTED"===y.status||"SOME_ACCEPTED"===y.status&&(null==(n=y.serviceIds)?void 0:n.includes(o))||"SOME_DENIED"===y.status&&!(null==(s=y.serviceIds)?void 0:s.includes(o)),a.consent.type=y.type),e[o]=a,e},{}),e.dps.categories=(0,r.getCategoriesWithServicesConsent)(e.dps.categories,e.dps.services);var w=new(0,o.DpsModel)(e.dps);e.consent.status=d(e,w,y)}else{var E=new(0,o.DpsModel)(e.dps),A=d(e,E,y);e.consent.serviceIds=E.getConsentServiceIds(A),e.consent.status=A}if(!e.consent.hash&&(e.consent.hash=(0,c.sha256)(e.consent.updatedAt.toString()),y&&y.hash&&y.hash!==e.consent.hash&&(e.consent.updatedBy="onEssentialChange")),b&&(null==y?void 0:y.interaction)==="gpc"&&navigator.globalPrivacyControl&&e.ui.gpcSignalHonoured&&(null==y?void 0:y.gpcSignal)&&(e.consent.gpcSignal=!0),null==(v=e.i18n)||null==(g=v.base)?void 0:g.links){var T=e.i18n.base.links;["cookiePolicy","imprint","privacyPolicy"].forEach(e=>{var t=T[e];(null==t?void 0:t.url)&&(t.url=(0,l.sanitizeUrl)(t.url))})}return e};function d(e,t,n){return"US"===e.setting.type&&(null==n?void 0:n.status)?n.status:t.getConsentStatus()}}),n("dXOhQ",function(t,n){e(t.exports,"sanitizeUrl",()=>s);function s(e,t){if(!e||"string"!=typeof e||""===e.trim())return null!=e&&"string"!=typeof e?console.warn("Invalid URL detected: not a string",e):null===e?console.warn("Invalid URL detected: null"):void 0===e?console.warn("Invalid URL detected: undefined"):"string"==typeof e&&""===e.trim()&&console.warn("Invalid URL detected: empty string"),"";var n=e.trim();if(n.startsWith("#"))return n;if(n.startsWith("/")){var s=t||window.location.origin;return`${s}${n}`}var i=/^https?:\/\//i.test(n)?n:`https://${n}`;try{return new URL(i),i}catch(t){return console.warn("Invalid URL detected:",e),e}}})})();